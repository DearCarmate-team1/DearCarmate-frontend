# [Dear Carmate] 안내

중급 프로젝트 **Dear Carmate**에 대해서 안내드립니다.

# 개요

- 제목: Dear Carmate
- 소개: 중고차 계약 관리 서비스
- 난이도: 중급
- 디자인 시안: ‣
- 프론트엔드 예시 링크:
    - [**project-dearcarmate-fe.vercel.app**](https://project-dearcarmate-fe.vercel.app/)
    - 테스트 계정 정보
        
        ### **플랫폼 관리자 계정**
        
        **이메일**: `admin@dearcarmate.com` / **비밀번호**: `admin1234`
        
        Dear Carmate 서비스의 관리자 계정입니다.
        
        ### **중고차 회사 코드 목록**
        
        - 햇살카: `sunshine`
        - 케이카: `kcar`
        - 굿모닝카: `goodmorning`
        - 행복카: `happy`
        - 믿음카: `trust`
        - 신뢰카: `reliable`
        - 우리카: `ourcar`
        - 미래카: `future`
        
        ### 중고차 일반 계정
        
        - 회사 대표 계정
            - **이메일:** `admin@[회사코드].com`  / **비밀번호:** `password`
            - 예: `admin@sunshine.com`, `admin@kcar.com`
            - (따로 권한은 없음)
        - 일반 직원 계정
            - **이메일**: `user[번호]@[회사코드].com` / **비밀번호**: `password`
            - 예: `user1@sunshine.com`, `user2@sunshine.com`
            - **직원 수**: 각 회사마다 5-8명의 직원이 랜덤하게 생성되어 있음
- 프론트엔드 코드 (수정일: 2025.10.14.)
    
    [DearCarmate FE Project.zip](%5BDear%20Carmate%5D%20%EC%95%88%EB%82%B4%2028dfb000b614815a864feb1648e6820c/DearCarmate_FE_Project.zip)
    
    자세한 설명은 `README.md` 파일을 참고해 주세요.
    

---

### 프로젝트 코드 수정 사항

- 2025.09.04.
    - 계약서 업로드 API의 응답 스키마 불일치 오류를 수정했습니다.
- 2025.10.14.
    - .env 환경변수 불일치 오류에 대해 README.md 파일 수정했습니다.

# 기능 요구 사항

### 인증

- 로그인 시 이메일, 비밀번호를 입력하여 로그인합니다.
- 로그아웃이 가능합니다.
    - 로그아웃은 별도의 엔드포인트 없이 프론트엔드 코드에서 처리합니다.

### 어드민

**어드민 전용 페이지**

- 어드민만 접근할 수 있는 페이지입니다.
- 회사 목록 / 기업별 유저 목록을 볼 수 있습니다.

**기업 등록 및 관리** 

- 기업명과 기업인증코드를 입력하여 기업을 등록할 수 있습니다.
- 유저의 회원가입 시, 올바른 기업명, 기업 인증코드가 필요합니다.

**유저 관리**

- 유저를 탈퇴시킬 수 있습니다.

### 유저

**회원가입**

- 이름, 이메일, 사원번호, 연락처, 비밀번호, 기업명, 기업 인증코드를 입력하여 회원가입합니다.
- 기업명과 기업 인증코드가 일치할 경우 회원가입에 성공하며, 로그인 시 유저가 속한 기업의 정보만 표시됩니다.

**개인정보 수정**

- 수정 시도 시 비밀번호를 입력하여 2차 검증을 필요로 합니다.
- 이름, 이메일, 사원번호, 연락처가 조회됩니다.
- 사원번호, 연락처, 비밀번호 수정이 가능합니다.

### 차량 관리

**차량 등록**

- 차량 번호, 제조사, 차종, 제조년도, 주행거리, 가격, 사고횟수, 차량 설명, 사고상세를 입력하여 차량 정보를 등록합니다.
    - 차량 설명, 사고상세는 선택 사항입니다.
- 대용량 등록 버튼 클릭 시 대용량 업로드 페이지로 이동하며 csv 파일을 업로드하여 여러 차량 정보 등록이 한번에 가능합니다.

**차량 수정**

- 유저의 회사에 등록된 차량의 수정이 가능합니다.

**차량 삭제**

- 유저의 회사에 등록된 차량의 삭제가 가능합니다.

**차량 목록 조회**

- 등록된 차량의 목록을 확인할 수 있습니다.
- 차량번호, 제조사, 차종, 주행거리, 제조년도, 가격, 계약 상태, 사고횟수가 표시됩니다.
- 페이지네이션이 가능합니다.
- 차량 번호, 차종으로 검색이 가능합니다.

### 고객 관리

**고객 등록**

- 고객명, 성별, 연락처, 연령대, 지역, 이메일, 메모를 입력하여 고객 등록이 가능합니다.
    - 연령대, 지역, 이메일, 메모는 선택 사항입니다.

**고객 수정**

- 유저의 회사에 등록된 고객 정보의 수정이 가능합니다.

**고객 삭제**

- 유저의 회사에 등록된 고객 정보의 삭제가 가능합니다.

**고객 목록 조회**

- 등록된 고객 정보 목록을 확인할 수 있습니다.
- 고객명, 계약 횟수, 성별, 연락처, 연령대, 지역, 이메일이 표시됩니다.
- 페이지네이션이 가능합니다.
- 고객명, 이메일로 검색이 가능합니다.

### 계약 관리

**계약 등록**

- 차량, 고객, 미팅 일정을 입력하여 계약 등록이 가능합니다.
- 미팅 일정 설정(최대 3개)이 가능합니다.

**계약 수정**

- 유저의 회사에 등록된 계약의 수정이 가능합니다.

**계약 삭제**

- 유저의 회사에 등록된 계약의 삭제 가능합니다.

**계약 목록 조회**

- 계약을 거래 상태(차량 확인, 가격 협의, 계약 성공, 계약 실패)에 따른 칸반 형태로 표시합니다.
    - 계약 보드에 있는 계약 건은 드래그앤 드랍(drag&drop)으로 계약 상태를 변경할 수 있습니다.
- 고객명, 담당자명으로 검색이 가능합니다.

### 대시보드

- 이 달의 매출, 진행 중인 계약 수, 성사된 계약 수를 표시합니다.
- 차량타입별 계약수, 차량타입별 매출액을 표시합니다.

### 계약서 업로드

**계약서 등록**

- 거래를 선택하고 계약서 파일을 추가하여 등록합니다.
- 유효한 확장자의 파일만 업로드 가능합니다.
- 업로드 파일 개수, 용량 제한이 있습니다.
- 계약서가 등록될 경우 고객에게 자동으로 계약서가 첨부된 이메일이 발송됩니다.

**계약서 다운로드**

- 업로드 된 계약서 일부 혹은 전체를 다운로드 할 수 있습니다.

**계약서 수정**

- 등록된 계약서의 일부 혹은 전체를 삭제할 수 있습니다.
- 계약서를 추가로 등록할 수 있습니다.
- 계약 수정 API를 활용해서 구현해주세요.

**계약서 목록 조회**

- 등록된 계약서 목록을 확인할 수 있습니다.
- 계약서명, 계약체결일, 문서 수, 담당자, 차량번호가 표시됩니다.
- 페이지네이션이 가능합니다.
- 계약서명, 담당자로 검색이 가능합니다.

### 대용량 업로드

- csv 파일을 업로드해 고객 데이터 혹은 차량 데이터의 대용량 업로드가 가능합니다.
    - 고객데이터 csv파일 예시
        
        [test-customer.csv](%5BDear%20Carmate%5D%20%EC%95%88%EB%82%B4%2028dfb000b614815a864feb1648e6820c/test-customer.csv)
        
    - 차량데이터 csv파일 예시
        
        [test-car.csv](%5BDear%20Carmate%5D%20%EC%95%88%EB%82%B4%2028dfb000b614815a864feb1648e6820c/test-car.csv)
        

# 심화 요구 사항

### 데이터베이스 최적화

- 캐스캐이딩을 활용해 데이터의 무결성을 보장합니다.
    - 차량을 삭제하는 경우 관련된 데이터 함께 삭제
    - 고객을 삭제하는 경우 관련된 데이터 함께 삭제
- 트랜잭션을 활용해 데이터의 무결성을 보장합니다.
    - 대용량 등록으로 고객 정보를 등록하는 경우
    - 대용량 등록으로 차량 정보를 등록하는 경우
    - 대시보드에서 통계를 조회하는 경우

### 코드 구조 개선

- Layered Architecture등을 적용해 코드 설계를 개선합니다.
- 커스텀 에러 클래스를 구현해 효율적으로 에러를 처리합니다.

# 참고

### API 명세서

[API 명세](%5BDear%20Carmate%5D%20%EC%95%88%EB%82%B4%2028dfb000b614815a864feb1648e6820c/API%20%EB%AA%85%EC%84%B8%2028dfb000b61481cb9068cdb6f10be865.csv)